# Loneliness

実行時間制限：2 sec

## 問題文

$x$ 座標軸上に人がいます。<br>
各人は $1, 2, ..., 60$ の番号が付けられており、 $i$ の番号が付けられた人を人 $i$ と呼びます。同じ番号の人は 2 人で 1 つのペアを組むことができます。<br>
次の 2 種類のクエリを順に $Q$ 個処理してください。

- `1 L R l r`：区間 $\lbrack L, R \rparen$ 内に人 $l, l+1, ... , r$ がそれぞれ奇数人、それ以外の人は偶数人いるという情報が与えられる。
- `2 L R`：区間 $\lbrack L, R \rparen$ にいる人で可能な限りペアを組んだ場合に、ペアになれずに残る人数を出力する。ただし、質問の時点で答えが一通りに定まらない場合は、代わりに `Ambiguous` と出力してください。

各人は複数の区間にまたがることはありません。

## 制約

- $1 \leq Q \leq 2 \times 10^5$
- $1 \leq L < R \leq 10^9$
- $1 \leq l \leq r \leq 60$
- 入力は全て整数である。
- 矛盾するような入力は与えられない。
- `2 L R` のクエリは必ず 1 回以上与えられる。

## 部分点

この問題はいくつかの小課題に分けられ、その小課題の全てのテストケースに正解した場合に、「この小課題に正解した」とみなされます。
提出したソースコードの得点は、正解した小課題の点数の合計となります。

1. （20 点） $Q \leq 3000$ を満たす。
2. （80 点） 追加の制約はない。

## 入力

入力は以下の形式で与えられます。

```txt
N Q
Query_1
Query_2
:
Query_Q
```

## 出力

`2 L R` のクエリに対する答えを、1 行に 1 つずつ、順に出力せよ。

### 入力例 1

```txt
3 7
1 1 3 2 2
2 1 3
1 1 2 1 1
2 1 4
2 2 3
1 2 4 1 2
2 3 4
```

### 出力例 1

```txt
1
Ambiguous
2
0
```

1 つ目のクエリでは、区間 $\lbrack 1, 3 \rparen$ には人 2 が奇数人、それ以外の人 1, 3 が偶数人いるという情報が得られます。<br>
3 つ目のクエリでは、区間 $\lbrack 1, 2 \rparen$ には人 1 が奇数人、それ以外の人 2, 3 が偶数人存在するという情報が得られます。<br>
5 つ目のクエリでは、区間 $\lbrack 2, 3 \rparen$ に人 1, 2, 3 はそれぞれ奇数, 奇数, 偶数人存在することが分かるので、ペアになれずに残る人は 2 人です。

なお、この入力例は小課題 1, 2 の制約を満たします。

### 入力例 2

```txt
9
2 1 2
1 1 3 1 60
1 1 2 1 30
1 2 3 31 60
1 2 3 31 60
2 1 2
2 1 2
2 1 3
2 2 3

```

### 出力例 2

```txt
Ambiguous
30
30
60
30
```

同じクエリが何度も出現する場合もあるので注意してください。
なお、この入力例は小課題 1, 2 の制約を満たします。
